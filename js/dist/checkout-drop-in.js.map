{"version":3,"file":"checkout-drop-in.js","names":["configuration","pronamicPayAdyenCheckout","onPaymentCompleted","result","component","redirectUrl","URL","paymentRedirectUrl","searchParams","set","resultCode","window","location","href","onError","error","name","paymentErrorUrl","AdyenCheckout","checkout","dropinComponent","create","onSelect","dropin","autoSubmit","submit","mount"],"sources":["../src/checkout-drop-in.js"],"sourcesContent":["/* global AdyenCheckout, pronamicPayAdyenCheckout */\n\n'use strict';\n\n( async function () {\n\n\t/**\n\t * Adyen Checkout.\n\t */\n\tconst configuration = {\n\t\t...pronamicPayAdyenCheckout.configuration,\n\t\tonPaymentCompleted: ( result, component ) => {\n\t\t\tlet redirectUrl = new URL( pronamicPayAdyenCheckout.paymentRedirectUrl );\n\n\t\t\tredirectUrl.searchParams.set( 'resultCode', result.resultCode );\n\n\t\t\twindow.location.href = redirectUrl;\n\t\t},\n\t\t/**\n\t\t * Error handler.\n\t\t *\n\t\t * @link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\n\t\t * @link https://github.com/Adyen/adyen-web/blob/v5.15.0/packages/lib/src/core/Errors/AdyenCheckoutError.ts\n\t\t * @link https://github.com/Adyen/adyen-web/blob/v5.15.0/packages/lib/src/components/UIElement.tsx#L115-L126\n\t\t * @param AdyenCheckoutError error Adyen checkout error.\n\t\t */\n\t\tonError: ( error ) => {\n\t\t\tif ( 'CANCEL' === error.name ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet redirectUrl = new URL( pronamicPayAdyenCheckout.paymentErrorUrl );\n\n\t\t\tredirectUrl.searchParams.set( 'name', error.name );\n\n\t\t\twindow.location.href = redirectUrl;\n\t\t}\n\t};\n\n\tconst checkout = await AdyenCheckout( configuration );\n\n\tconst dropinComponent = checkout.create( 'dropin', {\n\t\t/**\n\t\t * The `onSelect` and `onReady` events, since they're not generic events,\n\t\t * should be defined when creating the Drop-in component.\n\t\t *\n\t\t * @link https://github.com/Adyen/adyen-web/issues/973#issuecomment-821148830\n\t\t * @link https://docs.adyen.com/online-payments/migrate-to-web-4-0-0#dropin-configuration\n\t\t */\n\t\tonSelect: ( dropin ) => {\n\t\t\tif ( pronamicPayAdyenCheckout.autoSubmit ) {\n\t\t\t\tdropin.submit();\n\t\t\t}\n\t\t}\n\t} ).mount( '#pronamic-pay-checkout' );\n} )();\n"],"mappings":"AAAA;AAEA;;;;;;;;;;;;AAEA,wDAAE;EAAA;EAAA;IAAA;MAAA;QAAA;UAED;AACD;AACA;UACOA,aALL,mCAMGC,wBAAwB,CAACD,aAN5B;YAOAE,kBAAkB,EAAE,4BAAEC,MAAF,EAAUC,SAAV,EAAyB;cAC5C,IAAIC,WAAW,GAAG,IAAIC,GAAJ,CAASL,wBAAwB,CAACM,kBAAlC,CAAlB;cAEAF,WAAW,CAACG,YAAZ,CAAyBC,GAAzB,CAA8B,YAA9B,EAA4CN,MAAM,CAACO,UAAnD;cAEAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBR,WAAvB;YACA,CAbD;;YAcA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;YACES,OAAO,EAAE,iBAAEC,KAAF,EAAa;cACrB,IAAK,aAAaA,KAAK,CAACC,IAAxB,EAA+B;gBAC9B;cACA;;cAED,IAAIX,WAAW,GAAG,IAAIC,GAAJ,CAASL,wBAAwB,CAACgB,eAAlC,CAAlB;cAEAZ,WAAW,CAACG,YAAZ,CAAyBC,GAAzB,CAA8B,MAA9B,EAAsCM,KAAK,CAACC,IAA5C;cAEAL,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBR,WAAvB;YACA;UAhCD;UAAA;UAAA,OAmCsBa,aAAa,CAAElB,aAAF,CAnCnC;;QAAA;UAmCKmB,QAnCL;UAqCKC,eArCL,GAqCuBD,QAAQ,CAACE,MAAT,CAAiB,QAAjB,EAA2B;YAClD;AACF;AACA;AACA;AACA;AACA;AACA;YACEC,QAAQ,EAAE,kBAAEC,MAAF,EAAc;cACvB,IAAKtB,wBAAwB,CAACuB,UAA9B,EAA2C;gBAC1CD,MAAM,CAACE,MAAP;cACA;YACD;UAZiD,CAA3B,EAapBC,KAboB,CAab,wBAba,CArCvB;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAAF"}